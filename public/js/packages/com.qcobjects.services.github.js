"use strict";var global=(()=>{var ft=Object.defineProperty;var d=(H,l)=>ft(H,"name",{value:l,configurable:!0}),Me=(H=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(H,{get:(l,O)=>(typeof require<"u"?require:l)[O]}):H)(function(H){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+H+'" is not supported')});var de=(H,l)=>()=>(l||H((l={exports:{}}).exports,l),l.exports);var ze=de((Ot,be)=>{d(function H(l){"use strict";if(typeof Object.defineProperty<"u"&&typeof l<"u")try{Object.defineProperty(l,"__qcobjects_sdk__",{enumerable:!0,configurable:!1,writable:!1,value:H})}catch{typeof l.__qcobjects_sdk__<"u"&&(l.__qcobjects_sdk__.loaded=!0)}if(typeof l.__qcobjects_sdk__.__loaded__>"u"){if(l.__qcobjects_sdk__.__loaded__=!0,typeof l>"u")throw Error("Top context empty: It should either global, module or window");var O=l;l.global=O;var U=typeof window<"u"&&typeof window.self<"u"&&window===window.self,h=CONFIG.get("remoteImportsPath"),ve=CONFIG.get("relativeImportPath"),A=!CONFIG.get("useLocalSDK");A?CONFIG.set("remoteImportsPath","https://sdk.qcobjects.dev/v2.4/js/"):CONFIG.set("relativeImportPath","qcobjects-sdk/js/"),typeof l._DOMCreateElement>"u"&&(l._DOMCreateElement=function(q){var E;return U?E=document.createElement(q):E={},E});var _;if(U)_=[Import("org.qcobjects.i18n_messages",function(){},A),Import("org.qcobjects.models",function(){},A),Import("org.qcobjects.components",function(){},A),Import("org.qcobjects.components.grid",function(){},A),Import("org.qcobjects.components.list",function(){},A),Import("org.qcobjects.components.slider",function(){},A),Import("org.qcobjects.components.notifications",function(){},A),Import("org.qcobjects.components.splashscreen",function(){},A),Import("org.qcobjects.controllers",function(){},A),Import("org.qcobjects.controllers.grid",function(){},A),Import("org.qcobjects.controllers.list",function(){},A),Import("org.qcobjects.controllers.slider",function(){},A),Import("org.qcobjects.controllers.form",function(){},A),Import("org.qcobjects.controllers.swagger",function(){},A),Import("org.qcobjects.effects",function(){},A),Import("org.qcobjects.modal.controllers",function(){},A),Import("org.qcobjects.views",function(){},A),Import("org.qcobjects.tools.canvas",function(){},A),Import("org.qcobjects.tools.layouts",function(){},A),Import("org.qcobjects.cloud.auth.session.usertoken",function(){},A),Import("org.qcobjects.cloud.auth.session.data",function(){},A)];else{var I="qcobjects-sdk/src/js/";_=[Import(I+"org.qcobjects.models",function(){},A),Import(I+"org.qcobjects.components",function(){},A),Import(I+"org.qcobjects.controllers",function(){},A),Import(I+"org.qcobjects.views",function(){},A),Import(I+"org.qcobjects.effects",function(){},A),Import(I+"org.qcobjects.tools.canvas",function(){},A),Import(I+"org.qcobjects.tools.layouts",function(){},A),Import(I+"org.qcobjects.cloud.auth.session.usertoken",function(){},A),Import(I+"org.qcobjects.cloud.auth.session.data",function(){},A)]}let J=GlobalSettings.__start__.bind(l);l._sdk_=Promise.all(_).then(()=>{CONFIG.set("useSDK",!0),CONFIG.set("remoteImportsPath",h),CONFIG.set("relativeImportPath",ve),J()})}},"__qcobjects_sdk__").call(null,typeof be=="object"&&typeof be.exports=="object"?be.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}:typeof global=="object"?global:typeof window=="object"?window:{})});var Ye=de((It,Xe)=>{var pt=ze();Xe.exports=pt});var Ze=de((Gt,te)=>{d(function H(l){"use strict";if(typeof Object.defineProperty<"u"&&typeof l<"u")try{Object.defineProperty(l,"__qcobjects__",{enumerable:!0,configurable:!1,writable:!1,value:H})}catch{typeof l.__qcobjects__<"u"&&(l.__qcobjects__.loaded=!0)}if(typeof l.__qcobjects__.loaded>"u"){let se=function(t){h?ie.push(t.bind(window)):typeof O<"u"&&ie.push(t.bind(O))};d(se,"Ready"),l.__qcobjects__.loaded=!0;var O=l;l.global=O;var U=typeof window<"u"&&"Deno"in window,h=typeof window<"u"&&typeof window.self<"u"&&window===window.self&&!U,ve=typeof te<"u",A=d(function(){},"deno_require"),_=d(function(){return U?A(...arguments):Me(...arguments)},"_require_"),I=d(function(t){var e=typeof t.prototype<"u"?t.prototype.toString:function(){return""};typeof t.prototype<"u"&&(t.prototype.toString=function(){var n=["__qcobjects__","__qcobjects_sdk__","__loaded__","ComplexStorageCache","css","append","attachIn","debug","info","warn","QC_Append","set","get","done","componentDone","_new_","__new__","Class","ClassFactory","New","Export","Package","Import","subelements","componentLoader","buildComponents","Controller","View","VO","Service","serviceLoader","JSONService","ConfigService","SourceJS","SourceCSS","ArrayList","ArrayCollection","Effect","Timer","sum","avg","table","max","min","range","matrix","matrix2d","matrix3d","unique","uniqueId","shortCode","NamespaceRef"],r;return n.includes(this.name)?r=this.name+"{ [QCObjects native code] }":r=e.call(this),r})},"_protected_code_");I(Function);var J=d(function(t){var e=[];for(var n in t)(typeof t[n]).toLowerCase()==="function"&&e.push(t[n]);return e},"_methods_");String.prototype.__mAll__=function(t){var e=[];return this.replace(t,function(){var n=Array.prototype.slice.call(arguments,0,-2);n.input=arguments[arguments.length-1],n.index=arguments[arguments.length-2],e.push(n)}),e},typeof String.prototype.matchAll>"u"&&(String.prototype.matchAll=String.prototype.__mAll__);var q=d(function(t){var e;return h?e=document.createElement(t):e={},e},"_DOMCreateElement");if(!h){let t=_("fs")}var E=d(function(t){var e=d(function(){var n=new WeakSet,r=0;return function(o,i){if(typeof i=="object"&&i!==null){if(n.has(i))return r+=1,r<=3?Oe(i):null;n.add(i)}return i}},"getCircularReplacer");return JSON.stringify(t,e())},"_DataStringify");if(h){var le=d(function(e){return[...this.querySelectorAll(e)]},"subelements");Element.prototype.subelements=le,HTMLDocument.prototype.subelements=le,HTMLElement.prototype.subelements=le,typeof ShadowRoot<"u"&&(ShadowRoot.prototype.subelements=le)}if(h)try{l=typeof window.top<"u"?window.top:window,l._allowed_=!0}catch{try{l=document,l._allowed_=!0}catch{try{l=O,l._allowed_=!0}catch{l={},l._allowed_=!0}}}else typeof O<"u"&&(l=O);var X,x,Le="quick-component:not([loaded]),component:not([loaded])";if(x=function(){var t="";if(h){var e=l.document.baseURI.split("?")[0].split("/");e.pop(),t=e.join("/")+"/"}else{var n;try{n=_("process")}catch{}typeof n<"u"?t=`${n.cwd()}/`:t=""}return t}(),h){"Promise"in l||(l.Promise=function(t){var e={then(){},catch(){},_then(n){this.then.call(e,n)},_catch(n){this.catch.call(e,n)}};return t.call(e,e._then,e._catch),e}),typeof l.console>"u"&&(l.console=function(){},l.console.prototype.log=function(t){}),X=function(){return typeof document<"u"&&document.domain!==""?document.domain:"localhost"}();var Y=function(){var t=l[(![]+[])[+!+[]+ +!+[]]+(typeof![])[+!+[]]+(typeof[])[(+!+[]+ +!+[])*(+!+[]+ +!+[])]+(![]+[])[+!+[]]+(!![]+[])[+[]]+([]+[]+[][[]])[+[+!+[]+[+[]]]/(+!+[]+ +!+[])]+(typeof![])[+!+[]]+([]+[]+[][[]])[+!+[]]]["h"+(typeof![])[+!+[]]+(![]+[])[+!+[]+(+!+[]+ +!+[])]+(!![]+[])[+[]]].toLowerCase();return t}(),He=function(){return typeof cordova<"u"}()}else{var Y="secret";X="localhost"}l._asyncLoad=[];var fe=d(function(t,e){var n={func:t,args:e,dispatch(){this.func.apply(null,this.args)}};return l._asyncLoad.push(n),n},"asyncLoad");if(h){var et=d(function(){document.readyState==="complete"&&l._asyncLoad.map(function(t){t.dispatch.call(t)})},"_fireAsyncLoad");document.onreadystatechange=et}else typeof l.global<"u"&&(l.global._fireAsyncLoad=function(){l._asyncLoad.map(function(t){t.dispatch.call(t)})});l.asyncLoad=fe;var tt=d(function(){return{debugEnabled:!0,infoEnabled:!0,warnEnabled:!0,debug(t){this.debugEnabled&&console.log("\x1B[35m%s\x1B[0m",`[DEBUG][${performance.now().toLocaleString()}] ${t}`)},info(t){var e;this.infoEnabled&&(h?e="\x1B[103m%s\x1B[0m":e="\x1B[33m%s\x1B[0m",console.info(e,`[INFO][${performance.now().toLocaleString()}] ${t}`))},warn(t){this.warnEnabled&&console.warn("\x1B[31m%s\x1B[0m",`[WARN][${performance.now().toLocaleString()}] ${t}`)}}},"Logger"),s=new tt;s.debugEnabled=!1,s.infoEnabled=!0,l.logger=s;var Z={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode(t){var e="",n,r,o,i,a,u,c,f=0;for(t=Z._utf8_encode(t);f<t.length;)n=t.charCodeAt(f++),r=t.charCodeAt(f++),o=t.charCodeAt(f++),i=n>>2,a=(n&3)<<4|r>>4,u=(r&15)<<2|o>>6,c=o&63,isNaN(r)?u=c=64:isNaN(o)&&(c=64),e=e+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(u)+this._keyStr.charAt(c);return e},decode(t){var e="",n,r,o,i,a,u,c,f=0;for(t=t.replace(/[^A-Za-z0-9+/=]/g,"");f<t.length;)i=this._keyStr.indexOf(t.charAt(f++)),a=this._keyStr.indexOf(t.charAt(f++)),u=this._keyStr.indexOf(t.charAt(f++)),c=this._keyStr.indexOf(t.charAt(f++)),n=i<<2|a>>4,r=(a&15)<<4|u>>2,o=(u&3)<<6|c,e=e+String.fromCharCode(n),u!==64&&(e=e+String.fromCharCode(r)),c!==64&&(e=e+String.fromCharCode(o));return e=Z._utf8_decode(e),e},_utf8_encode(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(r&63|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(r&63|128))}return e},_utf8_decode(t){for(var e="",n=0,r=0,o=0,i=0,a;n<t.length;)r=t.charCodeAt(n),r<128?(e+=String.fromCharCode(r),n++):r>191&&r<224?(i=t.charCodeAt(n+1),e+=String.fromCharCode((r&31)<<6|i&63),n+=2):(i=t.charCodeAt(n+1),a=t.charCodeAt(n+2),e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63),n+=3);return e}},nt=d(function(t,e){var n=d(function(r,o){var i=2e3,a=0,u=setInterval(function(){o.call()?(clearInterval(u),r.call(),s.debug("Ejecuting "+r.name+" after wait")):a<i?(a+=1,s.debug("WAIT UNTIL "+r.name+" is true, "+a.toString()+" cycles")):(s.debug("Max execution time for "+r.name+" expression until true"),clearInterval(u))},1)},"_waitUntil");setTimeout(function(){n(t,e)},1)},"waitUntil");if(typeof B>"u")var B={getItem(t){return Object.hasOwnProperty.call(this,t)?this[t]:null},setItem(t,e){this[t]=e},removeItem(t){delete this[t]}};var F=d(function(t){var e,n,r;if(e=t.index,typeof e<"u"){n=t.load,r=t.alternate;var o=this.getID(e),i=B.getItem(o);if(this.isEmpty(i)){var a=n.call(null,{cachedObjectID:o,cachedResponse:i,cache:this});this.save(e,a),s.debug("RESPONSE OF {{cachedObjectID}} CACHED".replace("{{cachedObjectID}}",o))}else{var u=r.call(null,{cachedObjectID:o,cachedResponse:i,cache:this});s.debug("RESPONSE OF {{cachedObjectID}} IS ALREADY CACHED ".replace("{{cachedObjectID}}",o))}}else throw new Error("ComplexStorageCache: index is undefined");return this},"ComplexStorageCache");if(F.prototype.getItem=function(t){var e=B.getItem(t);return this.isEmpty(e)?null:JSON.parse(e)},F.prototype.setItem=function(t,e){B.setItem(t,E(e))},F.prototype.isEmpty=function(t){var e=!1;switch(!0){case typeof t>"u":case(typeof t=="string"&&t===""):case(typeof t=="string"&&t==="undefined"):case(typeof t=="number"&&t===0):case t===null:e=!0;break;default:e=!1}return e},F.prototype.getID=function(t){var e;return typeof t<"u"&&(e="cachedObject_"+Z.encode(E(t).replace(/\{|\}|,/g,"_"))),e},F.prototype.save=function(t,e){var n=this.getID(t);s.debug("CACHING THE RESPONSE OF {{cachedObjectID}} ".replace("{{cachedObjectID}}",n)),this.setItem(n,e)},F.prototype.getCached=function(t){var e=this.getID(t);return this.getItem(e)},F.prototype.clear=function(){Object.keys(B).filter(function(t){return t.startsWith("cachedObject_")}).map(function(t){B.removeItem(t)})},h){var ge=!1;try{var Ge=Object.defineProperty({},"passive",{get(){return ge=!0,ge}});window.addEventListener("testPassive",null,Ge),window.removeEventListener("testPassive",null,Ge)}catch{}var rt=d(function(){return ge?{passive:!0}:!1},"captureFalse")}h&&(Element.prototype.find=function(t){var e=[],n=document.subelements(t);return n.map(function(r,o){typeof n[o]<"u"&&n[o].parentNode.tagName===this.parentNode.tagName&&e.push(oe(r,new Object))}),e});var re,bt=function(){var t=Object.prototype.hasOwnProperty;return function(e){if(typeof e!="object")throw TypeError("Object prototype may only be an Object or null. The type is "+typeof e);var n=d(function(){},"QCObjects");n.prototype=e;var r=new n;if(arguments.length>1){var o=Object(arguments[1]);for(var i in o)t.call(o,i)&&(r[i]=o[i])}return r}}();typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:d(function(e,n){"use strict";if(e===null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(i!==null)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},"assign"),writable:!0,configurable:!0});var qe=d(function(t){return!!(typeof t=="function"&&t.toString().startsWith("class"))},"__is_raw_class__"),Oe=d(function(t){var e;switch(!0){case typeof t=="string":e=t;break;case typeof t=="number":e=t;break;case typeof t=="object":e=Object.assign({},t);break;case typeof t=="function":e=t.bind({});break;case qe(t):e=d(class extends t{},"_value_");break;default:break}return e},"_LegacyCopy"),$={},L={},we=[],ie=[],pe=d(function(t){var e="";return typeof t=="function"&&Object.hasOwnProperty.call(t,"name")&&t.name!==""?e=t.name:typeof t<"u"&&typeof t.constructor=="function"&&t.constructor.name!==""?e=t.constructor.name:typeof t<"u"&&typeof t.constructor=="object"&&(e=t.constructor.toString().replace(/\[(.*?)\]/g,"$1").split(" ").slice(1).join("")),e},"ObjectName"),oe=d(function(t,e){for(var n in t)if(typeof t[n]<"u")try{e[n]=t[n]}catch{}return e},"_Cast"),K=d(function(t,e){for(var n in t)if(typeof t[n]<"u"&&typeof t[n]!="function")try{e[n]=t[n]}catch{}else if(typeof t[n]=="function")try{e[n]=t[n].bind(e)}catch(r){s.warn(r)}return e},"_CastProps"),it=d(function(){return["__proto__","prototype","Object","Map","defineProperty","indexOf","toString","__instanceID"].indexOf(arguments[0])!==-1},"__is__forbidden_name__"),D=d(function(e){var n="";switch(!0){case(qe(e)&&!!e.name):n=e.name;break;case(typeof e=="object"&&!!e.constructor&&!!e.constructor.name&&e.constructor.name!==""):n=e.constructor.name;break;case(!!e&&!!e.__classType&&e.__classType!==""):n=e.__classType;break;case(!!e&&!!e.__definition&&!!e.__definition.__classType&&e.__definition.__classType!==""):n=e.__definition.__classType;break;case(typeof e=="function"&&!!e.name):n=e.name;break;default:n=pe(e);break}return n},"__getType__"),Q=d(function(e,n){return!!(typeof e<"u"&&e!==null&&((V(e)||ae(e))&&e.hierarchy().includes(n)||D(e)===n||pe(e)===n||typeof e===n))},"is_a"),Ie=d(function(t){if(typeof t<"u")if(h)try{l[t.name]=t,window[t.name]=t}catch{}else typeof O<"u"&&(Object.hasOwnProperty.call(O,t.name)||(O[t.name]=t))},"__make_global__"),$e=d(function(t,e){var n=t.name||D(t);return t.__definition.__classType=n,typeof e<"u"&&(t.__definition.__namespace=e),$[n]=t,l[n]=$[n],l[n]},"__register_class__"),Ne=d(function(t,e){return $e(t,e)},"RegisterClass");Ie(Ne);var k=d(function(){var t={},e,n,r;switch(arguments.length){case 0:return class{};case 1:e=arguments[0],n=d(class{},"type"),r={};break;case 2:e=arguments[0],n=d(class{},"type"),r=arguments[1];break;case 3:e=arguments[0],n=arguments[1],r=arguments[2];break;default:break}if(typeof n!="function")throw new Error("Class type must be a function or class");if(it.call(this,e))throw new Error(`${e} is not an allowed word in the name of a class`);return typeof n.__definition<"u"&&(r.__definition=Object.assign(Oe(n.__definition),n)),t[n.name]=n,typeof r>"u"||r===null?r={}:r=Oe(r),typeof r.__instanceID<"u"&&delete r.__instanceID,$[e]=class extends t[n.name]{__classType=e;__definition={...r};static hierarchy(o){var i=d(function(c){return Object.hasOwnProperty.call(c,"__classType")?c.__classType:D.call(o,c)},"__classType"),a=d(c=>typeof c<"u"&&typeof c.__proto__<"u"&&c.__proto__!==null?(i(c)!==""?[i(c)]:[]).concat(a(c.__proto__)):[],"__hierarchy__proto__");(typeof o>"u"||o===null)&&(o=this);var u=[];return u.push(i(o)),u=u.concat(a(o.__proto__)),u}static getParentClass(){return Object.getPrototypeOf(this.prototype.constructor)}constructor(){var o;arguments.length>0?o={...arguments[0]}:o={},super(o);let i=this;if(re=typeof re>"u"||re===null?0:re+1,i.__instanceID||Object.defineProperty(i,"__instanceID",{value:re,writable:!1}),typeof i.__definition<"u"&&Object.keys(i.__definition).filter(function(a){return isNaN(a)&&!["name","__instanceID","__classType","__definition"].includes(a)}).forEach(function(a){typeof i.__definition[a]=="function"?i[a]=i.__definition[a].bind(i):i[a]=i.__definition[a]}),J($[i.__classType]).map(function(a){i[a.name]=a.bind(i)}),J(i.__definition).map(function(a){i[a.name]=a.bind(i)}),i.body)if(typeof i.__definition>"u"||!Object.hasOwnProperty.call(i.__definition,"body")||typeof i.__definition.body>"u")try{h?i.body=q(i.__definition.__classType):i.body={}}catch{i.body={}}else Object.hasOwnProperty.call(i.__definition,"body")&&(i.body=i.__definition.body);try{if(typeof i.__new__=="function"?i.__new__.call(i,o):typeof super.__new__=="function"&&(i.__new__=super.__new__.bind(i),i.__new__.call(i,o)),typeof i=="object"&&Object.hasOwnProperty.call(i,"_new_")&&typeof i._new_.isCalled>"u")try{i._new_.call(i,o),i._new_.isCalled=!0}catch(a){s.warn(`${i.__classType}._new_() failed with error: ${a}`)}}catch(a){s.warn(a)}}__new__(o){K(o,this)}_new_(){}getClass(){return Object.getPrototypeOf(this.constructor)}css(o){return typeof this.body<"u"&&this.body.style!=="undefined"&&(s.debug("body style"),this.body.style=oe(o,this.body.style)),this.body.style}hierarchy(){var o=this;return this.getClass().hierarchy(o)}append(i){s.debug("append: start"),Q(i,"Component")&&(s.debug("append: child is a Component"),s.debug(`appending the body of ${i.name}`));var i=arguments.length>0?arguments[0]:this.body;typeof this.body<"u"&&(s.debug("append element"),arguments.lenght>0?(s.debug("append to element"),this.body.append(i),typeof this.childs>"u"&&(this.childs=[]),this.childs.push(i)):h&&(s.debug("append to body"),document.body.append(i)))}attachIn(o){if(h)for(var i=document.subelements(o),a=0,u=i.length;a<u;a++)i[a].append(this);else throw new Error("attachIn not yet implemented for non browser platforms")}},$[e]=K(r,$[e]),$[e].__definition=r,$[e].__definition.__classType=e,$[e].__definition.__new__=d(function(i){K(i,this)},"__new__"),l[e]=$[e],l[e]},"Class");k.prototype.toString=function(){return"Class(name, type, definition) { [QCObjects native code] }"};var m=d(function(t){var e;if(t!==null&&t.indexOf(".")>-1){var n=t.split(".").slice(0,t.split(".").length-1).join("."),r=t.split(".").slice(-1).join(""),o=R(n),i=typeof o<"u"?o.filter(a=>V(a)&&(a.__definition.__classType===r||typeof a=="function"&&!!a.name)).reverse():[];if(i.length>0)e=i[0];else throw Error(`Class ${t} not found.`)}else t!==null&&Object.hasOwnProperty.call($,t)&&(e=$[t]);return e},"ClassFactory");h&&(Element.prototype.append=d(function(e){ae(e)||typeof e.body<"u"?this.appendChild(e.body):this.appendChild(e)},"QC_Append"),Element.prototype.render=d(function(e){var n=this,r=d(function(o,i){if(typeof document.implementation.createHTMLDocument<"u"){var a=document.implementation.createHTMLDocument("");a.innerHTML=i,a.body.subelements("*").map(function(u){return o.append(u)})}},"_appendVDOM");if(typeof this.innerHTML<"u")try{this.innerHTML+=e}catch{r(n,e)}else r(n,e)},"QC_Render"));var _e=d(function(t,e,n){return m(t)[e]},"_super_");_e.prototype.toString=function(){return"_super_(className,classMethodName,params) { [QCObjects native code] }"};var S=d(function(t,e){return e=arguments.length>1?e:{},typeof t>"u"?new Object:new t(e)},"New");S.prototype.toString=function(){return"New(QCObjectsClassName, args) { [QCObjects native code] }"};var N=d(function(t){return Ie(t)},"Export");if(N.prototype.toString=function(){return"Export(function or symbol) { [QCObjects native code] }"},!h){var he=d(function(t){let e=_("fs");var n=null;try{var r=[`${l.CONFIG.get("projectPath")}${l.CONFIG.get("relativeImportPath")}`,`${l.CONFIG.get("basePath")}${l.CONFIG.get("relativeImportPath")}`,`${l.CONFIG.get("projectPath")}`,`${l.CONFIG.get("basePath")}`,`${l.CONFIG.get("relativeImportPath")}`,`${process.cwd()}${l.CONFIG.get("relativeImportPath")}`,`${process.cwd()}/node_modules/`+t,`${process.cwd()}/node_modules`,`${process.cwd()}`,"node_modules","./",""].concat(te.paths);r=r.filter(o=>e.existsSync(o+"/"+t)),r.length>0&&(n=r[0],s.info(t+" is Installed."))}catch(o){console.log(o)}return n},"findPackageNodePath");N(he)}k("_Crypt",Object,{last_string:"",last_key:"",construct:!1,_new_(t){var e=t.string,n=t.hasOwnProperty.call(t,"key")?t.key:null;this.__new__(t),n=n===null?this.__instanceID:n,this.last_key=n,this.last_string=e,this.construct=!0},_encrypt(){for(var t=this.string,e=this.key,n="",r,o,i=0;i<t.length;i++)r=t.substr(i,1),o=e.substr(i%e.length-1,1),r=String.fromCharCode(r.charCodeAt(0)+o.charCodeAt(0)),n+=r;return this.last_string=Z.encode(n),this.last_string},_decrypt(){var t=this.string,e=this.key,n="",r,o;t=Z.decode(t);for(var i=0;i<t.length;i++)r=t.substr(i,1),o=e.substr(i%e.length-1,1),r=String.fromCharCode(r.charCodeAt(0)-o.charCodeAt(0)),n+=r;return this.last_string=n,this.last_string},encrypt(t,e){var n=S(m("_Crypt"),{string:t,key:e!==""?e:"12345678ABC"});return n._encrypt()},decrypt(t,e){var n=S(m("_Crypt"),{string:t,key:e!==""?e:"12345678ABC"});return n._decrypt()}});var ot=d(function(t){return m("_Crypt").encrypt(E(t),Y)},"_CryptObject"),ke=d(function(t){return t===""?{}:JSON.parse(m("_Crypt").decrypt(t,Y))},"_DecryptObject"),Fe=d(function(){var t=1e3,e=m("_Crypt").encrypt((Math.random()*t).toString().replace(".",""),new Date().getTime().toString()),n=m("_Crypt").encrypt((Math.random()*t).toString().replace(".",""),new Date(new Date().getTime()-1e3*1e3).getTime().toString()),r=n.list().map((o,i)=>e.list()[i]===o?null:o).filter(o=>o!==null).join("");return r},"shortCode"),yt=Fe;k("InheritClass",class{},{});class j extends m("InheritClass"){component=null;__definition={};__classType="Processor";static processors={config(e,n){return l.CONFIG.get(n,"")},ENV(e,n){return typeof process<"u"?process.env[n]:""},global(e,n){return typeof O<"u"?O[n]:""}};static setProcessor(e){typeof e=="function"&&e.name!==""&&(this.processors[e.name]=e)}constructor(){super(...arguments),this.processors=j.processors,this.process=j.process.bind(this),this.processObject=j.processObject.bind(this),this.setProcessor=j.setProcessor.bind(this),this.execute=j.execute.bind(this)}static execute(e,n,r){var o=typeof e<"u"&&e!==null?e.processorHandler:this;return o.processors[n].bind(o).apply(o,[e,...r.split(",")])}static process(e,n=null){var r=n!==null?n.processorHandler:S(j,{component:null});return typeof e=="string"&&Object.keys(r.processors).map(function(o){[...e.matchAll(new RegExp("\\$"+o+"\\((.*)\\).*","g"))].map(function(i){var a=`$${o}(${i[1]})`;e=e.replace(a,r.execute.bind(r).call(r,n,o,i[1]))})}),e}static processObject(e,n=null){var r=n===null?this:n.processorHandler;return typeof r>"u"&&(r=new j({component:n})),typeof e=="object"?Object.keys(e).map(function(o){typeof e[o]=="object"&&!e[o].hasOwnProperty.call(e[o],"call")?e[o]=r.processObject.bind(r)(e[o],n):typeof e[o]=="string"&&(e[o]=r.process.bind(r)(e[o],n))}):typeof e=="string"&&(e=r.process.bind(r)(e,n)),e}}d(j,"Processor"),j.__definition={},j.__classType="Processor",Ne(j,"com.qcobjects"),Ie(j);class me{static _instance=null;static _CONFIG_ENC=null;static get instance(){if(this._instance===null){var e=new me;e._CONFIG={relativeImportPath:"",remoteImportsPath:"",remoteSDKPath:"https://sdk.qcobjects.dev/v2.4/",asynchronousImportsLoad:!1,removePackageScriptAfterLoading:!0,componentsBasePath:"",delayForReady:0,preserveComponentBodyTag:!1,useConfigService:!1,routingWay:"hash",useSDK:!0,useLocalSDK:!1,basePath:x},e._CONFIG_ENC=null,this._instance=e}return this._instance}static set instance(e){this._instance=e}}d(me,"ConfigSettings"),$.ConfigSettings=me,k("CONFIG",Object,{get _CONFIG_ENC(){return m("ConfigSettings").instance._CONFIG_ENC},get _CONFIG(){return m("ConfigSettings").instance._CONFIG},set(t,e){s.debug(`CONFIG.set  ${t}: ${e}`),t==="basePath"&&(x=e);var n;try{n=function(r){r._CONFIG_ENC===null&&(r._CONFIG_ENC=m("_Crypt").encrypt(E({}),Y));var o=r._CONFIG_ENC.valueOf(),i=r._CONFIG.valueOf();return K(i,ke(o))}(m("ConfigSettings").instance)}catch(r){n={},console.error(r),s.debug("failed to encrypt config")}n[t]=e,m("ConfigSettings").instance._CONFIG_ENC=ot(n),Object.hasOwnProperty.call(m("ConfigSettings").instance,"_CONFIG")&&Object.hasOwnProperty.call(m("ConfigSettings").instance._CONFIG,t)&&(m("ConfigSettings").instance._CONFIG[t]=e)},get(t,e){var n;try{var r=function(o){o._CONFIG_ENC===null&&(o._CONFIG_ENC=m("_Crypt").encrypt(E({}),Y));var i=o._CONFIG_ENC.valueOf(),a=o._CONFIG.valueOf();return K(a,ke(i))}(m("ConfigSettings").instance);typeof r[t]<"u"?n=r[t]:typeof e<"u"&&(n=e)}catch(o){console.error(o),s.debug("Something wrong when trying to get CONFIG values"),s.debug("No config value for: "+t),n=e}return j.processObject.call(j,n)}}),N(nt),N(_e),N(F),N(m),N(q),N(Fe),N(D),N(Q);var ae=d(function(t){return!!(typeof t=="object"&&Object.hasOwnProperty.call(t,"__classType")&&t.__instanceID&&Object.hasOwnProperty.call(t,"__definition")&&typeof t.__definition<"u")},"isQCObjects_Object"),V=d(function(t){return!!(typeof t=="function"&&!t.__instanceID&&t.__definition&&typeof t.__definition<"u"&&t.__definition.__classType)},"isQCObjects_Class"),R=d(function(t,e){return L.hasOwnProperty.call(L,t)&&typeof L[t]<"u"&&L[t].hasOwnProperty.call(L[t],"length")&&L[t].length>0&&typeof e<"u"&&e.hasOwnProperty.call(e,"length")&&e.length>0?(e.filter(function(n){return V(n)}).map(function(n){n.__definition.__namespace=t,n.__namespace=t}),L[t]=L[t].concat(e)):typeof e<"u"&&(typeof e=="object"&&e.hasOwnProperty.call(e,"length")?e.filter(function(n){return V(n)}).map(function(n){n.__definition.__namespace=t,n.__namespace=t}):V(e)&&(e.__definition.__namespace=t,e.__namespace=t),L[t]=e),Object.hasOwnProperty.call(L,t)&&L[t].map(function(n){$e(n,t)}),Object.hasOwnProperty.call(L,t)?L[t]:void 0},"Package");R.prototype.toString=function(){return"Package(namespace, classes) { [QCObjects native code] }"},R("com.qcobjects",[j]);var at=d(function(t){let n=R(t).filter(r=>V(r)).map(r=>({[r.__definition.__classType]:r})).reduce((r,o)=>Object.assign(r,o));return t.split(".").map(r=>({[r]:n})).reverse().reduce((r,o)=>(o[Object.keys(o)]=r,o))},"NamespaceRef"),Te=d(function(){var t,e=d(function(){},"ready"),n=!1;if(!(arguments.length<1)){arguments.length===1?t=arguments[0]:arguments.length===2?(t=arguments[0],e=arguments[1]):arguments.length>2&&(t=arguments[0],e=arguments[1],n=arguments[2],s.debug("[Import] Setting external="+n.toString()+" resource to import: "+t)),n?s.debug("[Import] Registering external resource to import: "+t):s.debug("[Import] Registering local resource to import: "+t);var r;return h?(r=new Promise(function(o,i){var a=d(function(){var f=!1,p=0;for(var b in L)p++;return p<we.length?f=!1:f=!0,f},"allPackagesImported"),u=d(function(f){we.push(e),a()&&we.map(function(p){ie.push(p)}),h&&l.CONFIG.get("removePackageScriptAfterLoading")&&f.target.remove(),o.call(r,{_imported_:f.target,_package_name_:t})},"readyImported");if(!L.hasOwnProperty.call(L,t)){var c=q("script");c.type=l.CONFIG.get("sourceType","text/javascript"),c.async=!!l.CONFIG.get("asynchronousImportsLoad"),c.onreadystatechange=function(){c.readyState==="complete"&&u.call()},c.onload=u,c.onerror=function(f){i.call(r,{_imported_:c,_package_name_:t})},c.src=n?l.CONFIG.get("remoteImportsPath")+t+".js":x+l.CONFIG.get("relativeImportPath")+t+".js",document.getElementsByTagName("head")[0].appendChild(c)}}),r.catch(function(){s.debug("Import: Error loading a package ")})):r=new Promise(function(o,i){try{var a=he(t),u="";if(a!==null)u=a+"/"+t;else{var c=he(t+".js");c!==null?u=c+"/"+t+".js":u=x+l.CONFIG.get("relativeImportPath")+t}try{o.call(r,{_imported_:_(`${u}`),_package_name_:t})}catch(f){i.call(r,{_imported_:null,_package_name_:t,error:f})}}catch(f){i.call(r,{_imported_:null,_package_name_:t,error:f})}}).catch(function(o){s.debug("Something happened when importing "+t),console.warn(o)}),r.catch(function(o){s.warn(E(o))}),r}},"Import");Te.prototype.toString=function(){return"Import(packagename,ready,external) { [QCObjects native code] }"},h&&(Element.prototype.Cast=d(function(n){n.__definition.body=this;var n=S(n);return n},"QC_Object")),k("TagElements",Array,{show(){this.map(function(t){return t.style.opacity=1})},hide(){this.map(function(t){return t.style.opacity=0})},effect(){var t=[...arguments].slice(1),e=arguments[0];(typeof e).toLowerCase()==="string"&&(e=m(e)),this.map(function(n){return e.apply.apply(e,[n].concat(t))})},findElements(t){var e=S(m("TagElements"));if(h)for(var n in this)typeof n=="number"&&typeof this[n]!="function"&&this[n].hasOwnProperty.call(this[n],"subelements")&&e.push(this[n].subelements(t));return e}});var st=d(function(t,e){var n=S(m("TagElements"));if(h)for(var r=document.subelements(t),o=[],i=0;i<r.length;i++)typeof e<"u"&&r[i].hasOwnProperty.call(r[i],"innerHTML")&&(r[i].innerHTML=e),o.indexOf(i)<0&&(n.push(r[i]),o.push(i));return n},"Tag"),ut=se,Ae=d(function(t){var e=d(function(){ie.map(function(n,r){typeof n=="function"&&(n.call(),delete ie[r])})},"_execReady");l.CONFIG.get("delayForReady")>0?h?setTimeout(e.bind(window),l.CONFIG.get("delayForReady")):typeof O<"u"&&setTimeout(e.bind(O),l.CONFIG.get("delayForReady")):e.call(l)},"_Ready");h?(window.onload=Ae,He&&document.addEventListener("deviceready",Ae,rt)):O.onload=Ae;class Je extends m("InheritClass"){constructor({instance:e,name:n,fget:r,fset:o,value:i}){super({instance:e,name:n,fget:r,fset:o,value:i}),this._new_({instance:e,name:n,fget:r,fset:o,value:i})}_new_({instance:e,name:u,fget:r,fset:o,value:i}){var a=this,u=typeof u>"u"?pe(a):u;Object.defineProperty(e,u,{set(c){let f=c;s.debug("value changed "+u);var p;typeof o<"u"&&typeof o=="function"?p=o(f):p=f,e["_"+u]=p},get(){let c=e["_"+u];s.debug("returning value "+u);var f=d(function(b){return typeof b=="object"&&Object.hasOwnProperty.call(b,"value")?b.value:b},"is_ddo"),p;return typeof r<"u"&&typeof r=="function"?p=r(f(c)):p=f(c),p}})}}d(Je,"DDO"),N(Je);class Se{template="";__definition={};constructor({component:e,template:n}){this.component=e,this.template=n}assign(e){var n=this;if(typeof n.component>"u")throw new Error("DefaultTemplateHandler.assign: component is undefined");if(typeof n.component.processorHandler>"u")throw new Error("DefaultTemplateHandler.assign: component.processorHandler is undefined");var r=n.component.processorHandler;r.component=n.component;var o=typeof n.template<"u"?n.template:"";typeof e=="object"?[...Object.keys(e)].map(function(i){var a=e[i];if(typeof a=="string"||typeof a=="number"||!isNaN(a))try{a=j.processObject.bind(r).call(r,a,n.component),o=o.replace(new RegExp(`{{${i}}}`,"g"),a)}catch(u){throw s.warn(`${n.component.name} could not parse processors.`),Error(`${n.component.name} could not parse processors. Reason: ${u.message}`)}}):s.debug(`${n.component.name}.data is not an object`);try{o=j.processObject.call(r,o,n.component)}catch(i){throw s.warn(`${n.component.name} could not parse processors.`),Error(`${n.component.name} could not parse processors. Reason: ${i.message}`)}return o}}d(Se,"DefaultTemplateHandler"),Se.__definition={},Ne(Se,"com.qcobjects");var ct=d(function(t,e){let n=t.path.replace(/{(.*?)}/g,"(?<$1>.*)");return{...[...e.matchAll(new RegExp(n,"g"))][0].groups}},"__routing_params__"),dt=d(function(t,e){return t.filter(function(n){var r=n.path.replace(/{(.*?)}/g,"(?<$1>.*)");return new RegExp(r,"g").test(e)}).reverse()},"__valid_routings__"),xe=d(function(t,e){return t.includes(e)},"__valid_routing_way__"),lt=d(function(t,e){var n=t.getAttribute("shadowed")===null,r=t.getAttribute("template-source")===null,o=t.getAttribute("shadowed")==="true",i=t.getAttribute("cached")===null,a=t.getAttribute("cached")==="true",u=typeof l.CONFIG.get("tplextension")<"u"?l.CONFIG.get("tplextension"):"html";u=t.getAttribute("tplextension")!==null?t.getAttribute("tplextension"):u;var c=t.getAttribute("name"),f=t.getAttribute("componentClass")!==null?t.getAttribute("componentClass"):"Component";let p=l.CONFIG.get("preserveComponentBodyTag")?c!==null?"com.qcobjects.components."+c+".ComponentBody":"com.qcobjects.components.ComponentBody":f;c=c!==null?c:m(p)&&typeof m(p).name<"u"?m(p).name:"";var b=m(p),y=p!=="Component"&&typeof b<"u"&&typeof b.tplsource=="string"&&b.tplsource!=="",w=r&&y?b.tplsource:r?"default":t.getAttribute("template-source");s.debug(`template source for  ${c} is ${w} `),s.debug(`type for ${c} is ${D(b)} `);var T;T=Ce({COMPONENTS_BASE_PATH:l.CONFIG.get("componentsBasePath"),COMPONENT_NAME:c,TPLEXTENSION:u,TPL_SOURCE:w}),l.CONFIG.get("preserveComponentBodyTag")&&R(c!==""?"com.qcobjects.components."+c:"com.qcobjects.components",[k("ComponentBody",m("Component"),{name:c,tplsource:w,tplextension:u,reload:!0})]);var v=d(function(){var C=n?b&&b.shadowed||m("Component").shadowed:o,P={__parent__:e,name:c,cached:i?m("Component").cached:a,shadowed:C,tplextension:u,body:l.CONFIG.get("preserveComponentBodyTag")?q("componentBody"):t,templateURI:T,tplsource:w};(typeof c>"u"||c===""||c===null)&&delete P.name,T===""&&delete P.templateURI;var g=S(b,P);return l.CONFIG.get("preserveComponentBodyTag")&&t.append(g),g},"__create_component_instance_"),M=v.call(this);return M},"_buildComponentFromElement_"),De=d(function(t,e){var n=[];return h?n=t.map(function(r){return lt(r,e)}):s.debug("[_buildComponentsFromElements_] not implemented for Non-Browser environments"),n},"_buildComponentsFromElements_");R("com.qcobjects",[d(class extends m("InheritClass"){validRoutingWays=["pathname","hash","search"];basePath=x;domain=X;templateHandler="DefaultTemplateHandler";processorHandler=null;routingWay=null;routingNodes=[];routings=[];routingPath="";routingPaths=[];_componentHelpers=[];subcomponents=[];splashScreenComponent=void 0;controller=void 0;view=void 0;effect=void 0;method="GET";cached=!0;__promise__=null;__namespace=void 0;constructor({templateURI:e="",template:n,tplsource:r="default",url:o="",name:i="",method:a="GET",data:u={},reload:c=!1,shadowed:f=!1,cached:p=!0,_body:b=q("div"),__promise__:y=null,__shadowRoot:w,body:T,shadowRoot:v,splashScreenComponent:M,controller:C,view:P}){super(...arguments);var g=this;typeof g.name>"u"&&s.warn("A name is not defined for "+D(g)),g.routingWay=l.CONFIG.get("routingWay"),g.processorHandler=S(j,{component:g}),g.data=typeof g.data>"u"||g.data===null?{}:g.data,g.data=Object.assign(g.data,g.dataAttributes),g.createServiceInstance().then(function(W){typeof g.__new__=="function"&&g.__new__.call(g,g),g._generateRoutingPaths(g.body).then(function(){g._reroute_().then(function(){return g.rebuild().then(function(){s.info(`Component._new_ The component ${g.name} was built successfully!`)}).catch(function(ue){s.warn(`Component._new_ Something went wrong building the component ${g.name}`),console.error(ue)})})})})}set body(e){var n=this;n._body=e}get body(){var e=this;return e._body}set cacheIndex(e){s.debug("[cacheIndex] This property is readonly")}get cacheIndex(){var e=this,n=E(e.routingPath);return Z.encode(e.name+n)}set parsedAssignmentText(e){s.debug("[parsedAssignmentText] This property is readonly")}get parsedAssignmentText(){var e=this;if(e._parsedAssignmentText=e.parseTemplate(e.template),typeof e._parsedAssignmentText>"u")throw Error(`[Component][${this.name}][parsedAssignmentText] Could not generate content!`);return e._parsedAssignmentText}set shadowRoot(e){var n=this;typeof n.__shadowRoot>"u"?n.__shadowRoot=e:s.debug("[shadowRoot] This property can only be assigned once!")}get shadowRoot(){var e=this;return e.__shadowRoot}set routingSelected(e){s.debug("[routingSelected] This is a read-only property of the component")}get routingSelected(){var e=this;return dt(e.routings,e.routingPath)}set routingParams(e){s.debug("[routingParams] This is a read-only property of the component")}get routingParams(){var e=this;return[{}].concat(e.routingSelected.map(function(n){return ct(n,e.routingPath)})).reduce(function(n,r,o){return Object.assign(n,r)})}createServiceInstance(){var e=this,n=e.body,r=this.data,o,i=e.getClass().__definition,a=h&&n.getAttribute("serviceClass")!==null?n.getAttribute("serviceClass"):null;return new Promise(function(u,c){var f=!!(Object.hasOwnProperty.call(n,"enableServiceClass")&&n.enableServiceClass||!Object.hasOwnProperty.call(n,"enableServiceClass")),p=!!(h&&n.getAttribute("response-to")!==null&&n.getAttribute("response-to")==="data"),b=!!(h&&n.getAttribute("response-to")!==null&&n.getAttribute("response-to")==="template");if(f&&a!==null&&(o=m(a)),!p&&i&&Object.hasOwnProperty.call(i,"responseTo")?p=i.responseTo==="data":!p&&Object.hasOwnProperty.call(m("Component"),"responseTo")&&(p=m("Component").responseTo==="data"),!b&&i&&Object.hasOwnProperty.call(i,"responseTo")?b=i.responseTo==="template":!b&&Object.hasOwnProperty.call(m("Component"),"responseTo")&&(b=m("Component").responseTo==="template"),typeof o<"u"&&typeof f<"u"&&f===!0&&(p||b)){s.info("Loading service "+a);var y=S(o,{data:r});Ee(y).then(function({request:w,service:T}){var v;typeof T.JSONresponse<"u"&&T.JSONresponse!==null?v=T.JSONresponse:v=T.template,p&&(typeof r=="object"&&typeof v=="object"?r=Object.assign(r,v):r=v,e.data=r),e.serviceInstance=y,e.serviceData=r,b&&(e.template=v),u(v)},function(w){s.debug(`Service loading rejected for ${a} in ${e.name}`),c(w)}).catch(function(w){throw s.debug("Something went wroing while trying to load the service "+a),Error(`Error loading ${a} for ${e.name}. Detail: ${w}`)})}else u(null)})}_bindroute_(){var e=this;e._bindroute_.loaded?s.debug(`Routes already bound to popstate events for ${e.name}`):(h&&e.hostElements("a").map(function(n){return n.oldclick=n.onclick,n.onclick=function(r){var o=!0;l.global.get("routingPaths")||l.global.set("routingPaths",[]);var i=l.CONFIG.get("routingWay"),a=r.target[i];return l.global.get("routingPaths").includes(a)&&r.target[i]!==document.location[i]&&r.target.href!==document.location.href?(s.debug("A ROUTING WAS FOUND: "+a),window.history.pushState({href:r.target.href},r.target.href,r.target.href),m("Component").route(),o=!1):s.debug("NO ROUTING FOUND FOR: "+a),typeof r.target.oldclick<"u"&&typeof r.target.oldclick=="function"&&r.target.oldclick.call(r.target,r),o},null}),this._bindroute_.loaded=!0)}done(e){var n;if(typeof e<"u"){var{request:r,component:o}=e;n=Promise.resolve({request:r,component:o})}return n}createControllerInstance(){var e;if(h){if(typeof this.body>"u")throw new Error("The component has no body");var n=this.body.getAttribute("controllerClass");n||(n="Controller"),e=m(n),typeof e<"u"&&(this.controller=S(e,{component:this}))}return new Promise((r,o)=>{if(h&&typeof e<"u"&&typeof this.controller<"u"){if(typeof this.controller.done=="function")try{this.controller.done.call(this.controller)}catch(i){throw Error(i)}else s.debug(`${n} does not have a done() method.`),o(`${n} does not have a done() method.`);typeof this.controller.createRoutingController=="function"?this.controller.createRoutingController.call(this.controller):s.debug(`${n} does not have a createRoutingController() method.`)}r({component:this,controller:this.controller})})}createEffectInstance(){var e=this;return new Promise(function(n,r){if(h){var o=e.body.getAttribute("effectClass"),i=e.body.getAttribute("apply-effect-to");i=i!==null?i:"load",o!==null&&i==="observe"?e.applyObserveTransitionEffect(o):o!==null&&i==="load"&&e.applyTransitionEffect(o)}n({component:e,effect:e.effect})})}createViewInstance(){var e=this;return new Promise(function(n,r){var o=h?e.body.getAttribute("viewClass"):null;if(o!==null){var i=m(o);typeof i<"u"&&(e.view=S(i,{component:e}),Object.hasOwnProperty.call(e.view,"done")&&typeof e.view.done=="function"&&e.view.done.call(e.view))}n({component:e,view:e.view})})}__done__(){var e=this,n=d(function(){if(typeof e>"u")throw new Error("componentDone() has lost its context");if(typeof e.body>"u")throw new Error("The component has no body");e.createViewInstance(),e.createControllerInstance(),e.createEffectInstance(),s.debug(`Trying to run component helpers for ${e.name}...`);try{e.runComponentHelpers(),s.debug(`Component helpers for ${e.name} executed.`)}catch(r){throw s.debug(`Component helpers for ${e.name} could not be executed.`),Error(r)}e.subcomponents=e.__buildSubComponents__(),e._bindroute_(),e.body.setAttribute("loaded",!0)},"componentDone");return new Promise(function(r,o){try{Promise.resolve(n.call(e))}catch(i){o(i)}})}hostElements(e){var n=this,r=n.shadowed&&typeof n.shadowRoot<"u"?n.shadowRoot.subelements(e):n.body.subelements(e);return r}get subtags(){var e=this,n=Le;return e.hostElements(n)}get bodyAttributes(){var e=this,n=e.body;return h?[...n.getAttributeNames()].map(r=>({[r]:n.getAttribute(r)})).reduce((r,o,i)=>Object.assign(r,o)):{}}get dataAttributes(){var e=this,n=e.body;return h?[{}].concat([...n.getAttributeNames()].filter(r=>r.startsWith("data-")).map(r=>({[r.split("-")[1]]:n.getAttribute(r)}))).reduce((r,o,i)=>Object.assign(r,o)):{}}__buildSubComponents__(e=!1){var n=this,r=n.subtags;return e||(r=r.filter(o=>o.getAttribute("loaded")!=="true")),(typeof n<"u"||n.subcomponents.length<1)&&(n.subcomponents=De(r,n)),n.subcomponents}fail(e){var n;if(typeof e<"u"){var{error:r,component:o}=e;n=Promise.resolve({error:r,component:o})}return n}set(e,n){this[e]=n}get(e){return this[e]}feedComponent(){var e=this;s.debug(`[Component][${this.name}][feedComponent] start feeding component...`);var n=d(function(i){if(typeof i.container>"u"&&typeof i.body>"u"){s.warn("COMPONENT {{NAME}} has an undefined container and body".replace("{{NAME}}",i.name));return}var a=typeof i.container>"u"||i.container===null?i.body:i.container,u=i.parsedAssignmentText;if(i.innerHTML=u,i.shadowed){s.debug("COMPONENT {{NAME}} is shadowed".replace("{{NAME}}",i.name)),s.debug("Preparing slots for Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",i.name));var c=q("div");a.subelements("[slot]").map(function(b){b.parentElement===a&&c.appendChild(b)}),s.debug("Creating shadowedContainer for COMPONENT {{NAME}}".replace("{{NAME}}",i.name));var f=q("div");f.classList.add("shadowHost");try{i.shadowRoot=f.attachShadow({mode:"open"})}catch{try{s.debug("Shadowed COMPONENT {{NAME}} is repeated".replace("{{NAME}}",i.name)),i.shadowRoot=f.shadowRoot}catch{s.warn("Shadowed COMPONENT {{NAME}} is not allowed on this browser".replace("{{NAME}}",i.name))}}if(typeof i.shadowRoot<"u"&&i.shadowRoot!==null){i.reload?(s.debug("FORCED RELOADING OF CONTAINER FOR Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",i.name)),f.shadowRoot.innerHTML=i.innerHTML):(c.innerHTML=i.parseTemplate(c.innerHTML),s.debug("ADDING Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",i.name)),f.shadowRoot.innerHTML+=i.innerHTML),s.debug("ADDING Slots to Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",i.name)),f.innerHTML+=c.innerHTML,s.debug("APPENDING Shadowed COMPONENT {{NAME}} to Container ".replace("{{NAME}}",i.name));var p=a.querySelector(".shadowHost");typeof p<"u"&&p!==null?(s.debug("Shadowed Container for COMPONENT {{NAME}} is already present in the tree ".replace("{{NAME}}",i.name)),i.shadowRoot.innerHTML=f.shadowRoot.innerHTML):a.appendChild(f)}else s.warn("Shadowed COMPONENT {{NAME}} is bad configured".replace("{{NAME}}",i.name))}else i.reload?(s.debug("FORCED RELOADING OF CONTAINER FOR COMPONENT {{NAME}}".replace("{{NAME}}",i.name)),a.innerHTML=i.innerHTML):a&&i?(s.debug("ADDING COMPONENT {{NAME}} ".replace("{{NAME}}",i.name)),a.innerHTML+=i.innerHTML):s.warn("COMPONENT {{NAME}} is not added to the DOM".replace("{{NAME}}",i.name))},"_feedComponent_InBrowser"),r=d(function(i){var a=i.parsedAssignmentText;i.innerHTML=a},"_feedComponent_InNode"),o;if(!Q(e,"Component")){s.warn("Trying to feed a non component object");return}return h?o=n(e):o=r(e),o}rebuild(){var e=this,n=new Promise(function(r,o){if((typeof e>"u"||e===null)&&o("Component is undefined"),ae(e)&&Q(e,"Component"))switch(!0){case e.get("tplsource")==="none":s.debug("Component "+e.name+" has specified template-source=none, so no template load was done");var i={request:null,component:e};e.__done__().then(function(){typeof e.done=="function"&&e.done.call(e,i),r.call(n,i)},function(){o.call(n,i)});break;case e.get("tplsource")==="inline":s.debug("Component "+e.name+" has specified template-source=inline, so it is assumed that template is already declared"),async function(a){a.feedComponent.bind(a)()}(e);var i={request:null,component:e};e.__done__().then(function(){typeof e.done=="function"&&e.done.call(e,i),r.call(n,i)},function(){o.call(n,i)});break;case(e.get("tplsource")==="default"&&e.get("templateURI")!==""):e.set("url",e.get("basePath")+e.get("templateURI")),je(e,!1).then(function(a){r.call(n,a)},function(a){o.call(n,a)});break;case(e.get("tplsource")==="external"&&e.get("templateURI")!==""):e.set("url",e.get("templateURI")),je(e,!1).then(function(a){r.call(n,a)},function(a){o.call(n,a)});break;case(e.get("tplsource")==="default"&&e.get("templateURI","")===""):s.debug(`Component ${e.name} template-source is ${e.get("tplsource")} and no templateURI is present`),o.call(n,`Component ${e.name} template-source is ${e.get("tplsource")} and no templateURI is present`);break;default:s.debug("Component "+e.name+" will not be rebuilt because no templateURI is present"),o.call(n,{request:null,component:e});break}});return n}Cast(e){let n=J(e).map(r=>r.name.replace(/bound /g,"")).map(r=>({[r]:e[r].bind(this)})).reduce((r,o)=>Object.assign(r,o),{});return oe(this,n)}static route(){var e=this,n,r=!!(ae(e)&&Q(e,"Component")),o=d(function(i){var a=[],u=i.filter(function(c){return typeof c<"u"}).map(function(c){if(typeof c.name<"u")a.push(c.name);else throw new Error(D(c)+" does not have a name");return new Promise(function(f,p){var b;return typeof c<"u"&&c._reroute_?b=c._reroute_().then(function(){return c.reload=!0,c.rebuild()}).then(function(y){if(Object.hasOwnProperty.call(c,"subcomponents")&&typeof c.subcomponents<"u"&&c.subcomponents.length>0)return s.debug("LOOKING FOR ROUTINGS IN SUBCOMPONENTS FOR: "+c.name),o.call(c,c.subcomponents);s.debug("No subcomponents to look for routings in: "+c.name),c.subtags.length>0&&(c.subcomponents=c.__buildSubComponents__(!0)),f(c)}):typeof c<"u"&&p("Component "+c.name+" is not an instance of Component"),b})});return Promise.all(u).then(function(){s.debug("ROUTING COMPLETED FOR "+a.join(", "))}).catch(function(c){s.warn("ROUTING FAILED FOR "+a.join(", ")+": "+c)})},"__route__");if(r||l.componentsStack)r&&s.debug("loading routings for instance "+e.name),n=o.call(e,r?e.subcomponents:l.componentsStack);else throw s.debug("An undetermined result expected if load routings. So will not be loaded this time."),Error("There is no valid instance and no components stack available to apply rountings");return n}fullscreen(){if(h){var e=this.body;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}closefullscreen(){h&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}_generateRoutingPaths(e){var n=this;return new Promise(function(r,o){h&&xe(n.validRoutingWays,n.routingWay)&&typeof e<"u"&&(n.innerHTML=e.innerHTML,n.routingNodes=e.subelements("routing"),n.routings=[],n.routingNodes.map(function(i,a){var u=i.getAttributeNames(),c={};u.map(function(f,p){c[u[p]]=i.getAttribute(u[p])}),n.routings.push(c),n.routingPaths||(n.routingPaths=[]),n.routingPaths.includes(c.path)||n.routingPaths.push(c.path),l.global.get("routingPaths")||l.global.set("routingPaths",[]),l.global.get("routingPaths").includes(c.path)||l.global.get("routingPaths").push(c.path)})),r()})}parseTemplate(e){var n=this,r,o=e;if(Object.hasOwnProperty.call(n,"templateHandler")){var i=n.templateHandler;s.debug(`[Component][${this.name}][parseTemplate] Attempting to use ${i} ...`);var a=m(i),u=S(a,{component:n,template:o});u.component=n;var c=n.data;if(Object.hasOwnProperty.call(n,"assignRoutingParams")&&n.assignRoutingParams)try{c=Object.assign(c,n.routingParams)}catch{s.debug("[parseTemplate] it was not possible to assign the routing params to the template")}r=u.assign(c)}else s.debug(`[Component][${this.name}][parseTemplate] No value for templateHandler. Using raw content...`),r=o;return r}_reroute_(){var e=this;return new Promise(function(n,r){h&&xe(e.validRoutingWays,e.routingWay)&&(e.routingPath=document.location[e.routingWay],e.routingSelected.map(function(o,i){var a=Ce({COMPONENTS_BASE_PATH:l.CONFIG.get("componentsBasePath"),COMPONENT_NAME:o.name.toString(),TPLEXTENSION:Object.hasOwnProperty.call(o,"tplextension")?o.tplextension:e.tplextension,TPL_SOURCE:"default"});e.templateURI=a}),e.routingSelected.length>0&&(e.template="",e.body.innerHTML="")),n(e)})}lazyLoadImages(){if(h){var e=this,n=e.shadowed?e.shadowRoot:e.body,r=[...n.subelements("img[lazy-src]")],o=d(function(a){a.setAttribute("src",a.getAttribute("lazy-src")),a.onload=()=>{a.removeAttribute("lazy-src")}},"_lazyLoadImages");if("IntersectionObserver"in window){var i=new IntersectionObserver((a,u)=>{a.forEach(c=>{c.isIntersecting&&(o(c.target),u.unobserve(c.target))})});r.map(function(a){return i.observe(a)})}else r.map(o)}return null}applyTransitionEffect(e){var n=m(e);if(typeof n>"u")throw Error(`${e} not found.`);typeof n<"u"&&Q(n,"TransitionEffect")?(this.effect=S(n,{component:this}),this.effect.apply(this.effect.defaultParams)):s.debug(`${e} is ${D(n)} but is not a TransitionEffect`)}applyObserveTransitionEffect(e){if(h){var n=this,r=n.shadowed?n.shadowRoot.host:n.body,o=d(function(a){n.applyTransitionEffect(e)},"_applyEffect_");if("IntersectionObserver"in window){var i=new IntersectionObserver((a,u)=>{a.forEach(c=>{c.isIntersecting&&(o(c.target),u.unobserve(c.target))})});i.observe(r)}else o(r)}return null}scrollIntoHash(){if(h){var e=this;if(document.location.hash!==""){var n=e.shadowed?e.shadowRoot:e.body;n.subelements(document.location.hash).map(function(r){typeof r.scrollIntoView=="function"&&r.scrollIntoView(l.CONFIG.get("scrollIntoHash",{behavior:"auto",block:"top",inline:"top"}))})}}}i18n_translate(){if(h&&l.CONFIG.get("use_i18n")){var e=this,n=e.shadowed?e.shadowRoot:e.body,r=l.CONFIG.get("lang","en"),o=navigator.language.slice(0,2),i=l.global.get("i18n");if(r!==o&&typeof i=="object"&&Object.hasOwnProperty.call(i,"messages")){var a=d(function(){var u=this;return new Promise(function(c,f){var p=i.messages.filter(function(b){return Object.hasOwnProperty.call(b,r)&&Object.hasOwnProperty.call(b,o)});n.subelements("ul,li,h1,h2,h3,a,b,p,input,textarea,summary,details,option,component").map(function(b){return p.map(function(y){var w=b.innerHTML;return w=w.replace(new RegExp(`${y[r]}`,"g"),y[o]),b.innerHTML=w,null}),b}),c()})},"callback_i18n");a.call(e).then(function(){s.debug("i18n loaded for component: "+e.name)})}}}addComponentHelper(e){var n=this;n._componentHelpers.push(e)}runComponentHelpers(){if(h){var e=this,n=[];n.push(e.i18n_translate.bind(e)),n.push(e.scrollIntoHash.bind(e)),n.push(e.lazyLoadImages.bind(e)),n=n.concat(e._componentHelpers),n.map(function(r){s.debug(`Executing ${r.name} as component helper for ${e.name}...`),r()})}}},"Component")]),J(m("Component")).map(function(t){I(t)}),h&&window.addEventListener("popstate",function(t){t.stopImmediatePropagation(),t.stopPropagation(),m("Component").route()}),R("com.qcobjects.controllers",[d(class extends m("InheritClass"){component=null;dependencies=[];constructor({component:e,dependencies:n}){if(super({component:e,dependencies:n}),this.component=e,this.dependencies=n,typeof this.component>"u"||this.component==="null")throw Error(`${D(this)} must be called with a component`)}routingSelectedAttr(e){return this.component.routingSelected.map(function(n){return n[e]}).filter(function(n){return n}).pop()}isTouchable(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}onpress(e,n){try{this.isTouchable()?this.component.body.subelements(e)[0].addEventListener("touchstart",n,{passive:!0}):this.component.body.subelements(e)[0].addEventListener("click",n,{passive:!0})}catch{s.debug("No button to assign press event")}}createRoutingController(){var e=this,n=e.component,r=e.routingSelectedAttr("controllerclass");if(typeof r<"u"){var o=m(r);typeof o<"u"&&(n.routingController=S(o,{component:n}),Object.hasOwnProperty.call(n.routingController,"done")&&typeof n.routingController.done=="function"&&n.routingController.done.call(n.routingController))}}done(){}},"Controller")]),R("com.qcobjects.views",[d(class extends m("InheritClass"){constructor({component:e=void 0,dependencies:n=[]}){if(super(...arguments),typeof this.component>"u"||this.component==="null")throw Error(`${D(this)} must be called with a component`)}},"View")]),R("com.qcobjects.api",[d(class extends m("InheritClass"){kind="rest";domain=X;basePath=x;url="";method="GET";data={};reload=!1;cached=!1;constructor(){super(...arguments)}set(e,n){this[e]=n}get(e){return this[e]}},"Service")]),R("com.qcobjects.api.services",[d(class extends m("Service"){method="GET";cached=!1;headers={"Content-Type":"application/json",charset:"utf-8"};JSONresponse=null;done(e){s.debug("***** RECEIVED RESPONSE:"),s.debug(e.service.template),this.JSONresponse=JSON.parse(e.service.template)}constructor(){super(...arguments)}},"JSONService")]),R("com.qcobjects.api.config",[d(class extends m("JSONService"){method="GET";cached=!1;configFileName="config.json";headers={"Content-Type":"application/json",charset:"utf-8"};JSONresponse=null;done(e){s.debug("***** CONFIG LOADED:"),s.debug(e.service.template),this.JSONresponse=JSON.parse(e.service.template),Object.hasOwnProperty.call(this.JSONresponse,"__encoded__")&&(this.JSONresponse=JSON.parse(m("_Crypt").decrypt(this.JSONresponse.__encoded__,Y)));for(var n in this.JSONresponse)l.CONFIG.set(n,this.JSONresponse[n]);this.configLoaded.call(this)}fail(e){this.configLoaded.call(this)}constructor(){super(...arguments),this.set("url",this.get("basePath")+this.get("configFileName"))}},"ConfigService")]),R("com.qcobjects.valueObjects",[d(class extends m("InheritClass"){constructor(){super(...arguments)}},"VO")]);var Ce=d(function(t){var e="";if(t.TPL_SOURCE==="default"){e="{{COMPONENTS_BASE_PATH}}{{COMPONENT_NAME}}.{{TPLEXTENSION}}";for(var n in t){var r=t[n];e=e.replace("{{"+n+"}}",t[n])}}return e},"ComponentURI"),je=d(function(t,e){var n,r=d(function(a,u){return n=new Promise(function(c,f){var p=a.__promise__,b=Object.hasOwnProperty.call(a,"container")&&typeof a.container<"u"&&a.container!==null?a.container:a.body;if(b!==null){var y=d(function(g){g.feedComponent();var W={request:v,component:g};c.call(p,W)},"_feedComponent_");s.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",E(a.data)).replace("{{URL}}",a.url));var w=d(function(){var g=T?0:200;if(v.status===g){var W=v.responseText;s.debug("Data received {{DATA}}".replace("{{DATA}}",E(W))),s.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",a.name)),a.template=W,a.cached&&typeof P<"u"&&P.save(a.name,a.template),y.call(this,a)}else{var ue={request:v,component:a};f.call(p,ue)}},"_componentLoaded");if(typeof a.template=="string"&&a.template!=="")y.call(this,a);else{var T=!!a.url.startsWith("file:"),v=new XMLHttpRequest;if(T){if("fetch"in l){s.debug("I can use fetch..."),s.debug("It is a file to be loaded, so I will try to use fetch");var M=fetch(a.url).then(g=>{s.debug("I got a response from fetch, so I'll feed the component"),g.text().then(W=>{a.template=W,y.call(this,a)})})}}else try{s.debug("Calling the url of component in async mode."),v.open(a.method,a.url,!0)}catch{s.debug("Last try has failed... The component cannot be loaded.")}!He&&!T&&v.setRequestHeader("Content-Type","text/html"),T||(v.onload=w);var C=d(function(g){g=!(typeof g>"u"||!g),s.debug("SENDING THE NORMAL REQUEST  "),g?"fetch"in l||(s.debug("I have to try to load the file using xhr...  "),v.send(null),v.status===XMLHttpRequest.DONE&&w.call(this)):(s.debug("Trying to send the data to the component...  "),v.send(E(a.data)))},"_directLoad");if(a.cached&&!T){s.debug("USING CACHE FOR COMPONENT: "+a.name);var P=new F({index:a.cacheIndex,load(g){C.call(this,T)},alternate(g){a.method==="GET"?(a.template=g.cache.getCached(a.cacheIndex),y.call(this,a)):C.call(this,T)}});O.lastCache=P}else s.debug("NOT USING CACHE FOR COMPONENT: "+a.name),C.call(this,T)}}else s.debug("CONTAINER DOESNT EXIST")}),n.then(function(c){return a.__done__().then(function(){var f;return typeof a.done=="function"&&(f=a.done.call(a,c)),Promise.resolve(f)})},function(c){var f;return typeof a.fail=="function"&&(f=a.fail.call(a,c)),Promise.reject(f)}).catch(function(c){s.debug("Something wrong loading the component")}),n},"_componentLoaderInBrowser"),o=d(function(a,u){return n=new Promise(function(c,f){var p=n,b=d(function(v){v.feedComponent();var M={request:null,component:v};c.call(p,M)},"_feedComponent_");s.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",E(a.data)).replace("{{URL}}",a.url));var y=d(function(v,M){if(v){var P={request:null,component:a};f.call(p,P)}else{var C=M.toString();s.debug("Data received {{DATA}}".replace("{{DATA}}",E(C))),s.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",a.name)),a.template=C,a.cached&&typeof T<"u"&&T.save(a.name,a.template),b.call(this,a)}},"_componentLoaded");if(typeof a.template=="string"&&a.template!=="")b.call(this,a);else{s.debug("Loading the component as a local file in server...");var w=d(function(v){let M=_("fs");s.debug("SENDING THE NORMAL REQUEST  "),M.readFile(a.url,y)},"_directLoad");if(a.cached){s.debug("USING CACHE FOR COMPONENT: "+a.name);var T=new F({index:a.cacheIndex,load(v){w.call(this)},alternate(v){a.method==="GET"?(a.template=v.cache.getCached(a.cacheIndex),b.call(this,a)):w.call(this)}});O.lastCache=T}else s.debug("NOT USING CACHE FOR COMPONENT: "+a.name),w.call(this)}}),n.then(function(c){return a.__done__().then(function(){var f;return typeof a.done=="function"&&(f=a.done.call(a,c)),Promise.resolve(f)})},function(c){var f;return typeof a.fail=="function"&&(f=a.fail.call(a,c)),Promise.reject(f)}).catch(function(c){s.debug("Something wrong loading the component")}),n},"_componentLoaderInNode"),i;return h?typeof e<"u"&&e?i=fe(r,arguments):i=r(t,e):i=o(t,e),i},"componentLoader"),Ee=d(function(t,e){var n=d(function(u,c){var f=new Promise(function(p,b){s.debug("LOADING SERVICE DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",E(u.data)).replace("{{URL}}",u.url));var y=new XMLHttpRequest;y.withCredentials=u.withCredentials;var w=!0;y.open(u.method,u.url,w);for(var T in u.headers)try{typeof u.headers[T]!="function"&&y.setRequestHeader(T,u.headers[T])}catch{s.debug("Something went wrong when assign the header "+T)}y.onload=function(){if(y.status===200){var C=y.responseText;if(s.debug("Data received {{DATA}}".replace("{{DATA}}",E(C))),s.debug("CREATING SERVICE {{NAME}}".replace("{{NAME}}",u.name)),u.template=C,u.cached&&typeof M<"u"&&M.save(u.name,u.template),typeof u.done=="function"){var P={request:y,service:u};u.done.call(u,P),p.call(f,P)}}else if(typeof u.fail=="function"){var P={request:y,service:u};u.fail.call(u,P),b.call(f,P)}};var v=d(function(){s.debug("SENDING THE NORMAL REQUEST  ");try{y.send(E(u.data))}catch{s.debug("SOMETHING WRONG WITH REQUEST  "),b.call(f,{request:y,service:u})}},"_directLoad");if(u.cached){var M=new F({index:u.data,load(C){v.call(this)},alternate(C){if(u.method==="GET"){if(u.template=C.cache.getCached(u.name),typeof u.done=="function"){var P={request:y,service:u};u.done.call(u,P),p.call(f,P)}}else v.call(this)}});O.lastCache=M}else v.call(this);return y});return f},"_serviceLoaderInBrowser"),r=d(function(u,c){var f=new Promise(function(p,b){if(typeof URL>"u"){O.URL=_("url").URL;let G=O.URL}var y=new URL(u.url),w;u.useHTTP2=Object.hasOwnProperty.call(u,"useHTTP2")&&u.useHTTP2;var T=d(function(G){s.debug("LOADING SERVICE DATA (non-browser) {{DATA}} FROM {{URL}}".replace("{{DATA}}",E(u.data)).replace("{{URL}}",u.url));var ce,Re={http2Client:C,request:G,service:u,responseHeaders:null};if(typeof u.data=="object"&&u.data!==null&&u.useHTTP2)try{s.debug("Sending data...");let ee=new Buffer(E(u.data));G.write(ee)}catch{s.debug("It was not possible to send any data")}ce="",G.on("response",(ee,vt)=>{s.debug("receiving response..."),Re.responseHeaders=ee,ce=""}),G.on("data",ee=>{s.debug("receiving data..."),ce+=""+ee.toString(),u.template=ce}),u.useHTTP2&&G.resume(),G.on("end",()=>{s.debug("ending call..."),u.template=ce,Object.hasOwnProperty.call(u,"useHTTP2")&&u.useHTTP2?C.destroy():G.destroy(),u.done.call(u,Re),p.call(f,Re)}),u.useHTTP2&&G.end()},"captureEvents");try{var v;if(u.useHTTP2){s.debug("using http2");var M=_("http2"),C=M.connect(y.origin);v=Object.assign({":method":u.method,":path":y.pathname},u.options),v=Object.assign(v,u.headers),w=C.request(v),w.setEncoding("utf8"),T(w)}else if(y.protocol==="http:"){var P=_("http"),g=P.request;v=Object.assign({url:u.url,headers:u.headers},u.options);var w=g(u.url);T(w)}else if(y.protocol==="https:"){var W=_("https");v=Object.assign({hostname:y.hostname,port:y.port,path:y.pathname,method:u.method,headers:u.headers},u.options);var ue=W.request(v,function(G){T(G)});ue.end()}else{var Ve="Protocol not supported: "+y.protocol;throw s.debug(Ve),new Error(Ve)}}catch(G){s.debug(G),u.fail.call(u,G),b.call(f,G)}}).catch(function(p){console.log(p),s.debug("Something happened when trying to call the service: "+u.name),u.fail.call(u,p)});return f},"_serviceLoaderInNode"),o=d(function(u,c){var f=new Promise(function(p,b){s.debug(`Calling mockup service ${u.name} ...`);var y={request:null,service:u,responseHeaders:u.responseHeaders};typeof u.mockup=="function"?u.mockup.call(u,y):u.done.call(u,y),p.call(f,y)});return f},"_serviceLoaderMockup"),i=d(function(u,c){var f=new Promise(function(p,b){s.debug(`Calling local service ${u.name} ...`);var y={request:null,service:u,responseHeaders:u.responseHeaders};typeof u.local=="function"?u.local.call(u,y):u.done.call(u,y),p.call(f,y)});return f},"_serviceLoaderLocal"),a;switch(t.kind){case"rest":h?typeof e<"u"&&e?a=fe(n,arguments):a=n(t,e):a=r(t,e);break;case"mockup":a=o(t,e);break;case"local":a=i(t,e);break;default:s.debug(`The value of the kind property of the service ${t.name} is not valid`);break}return a},"serviceLoader");if(N(Ee),N(je),N(Ce),N(pe),N(E),N(V),N(ae),N(at),h){Element.prototype.buildComponents=function(t=!1){var e=Le,n=this,r=n.subelements(e);return De(r,null)},HTMLDocument.prototype.buildComponents=Element.prototype.buildComponents,HTMLElement.prototype.buildComponents=Element.prototype.buildComponents;var Ue=d(class extends HTMLElement{constructor(){super(...arguments);let t=this,e=t.nodeName.toLowerCase(),n=q("quick-component"),r=t.getAttributeNames();n.setAttribute("name",e),t.hasAttribute("shadowed")||n.setAttribute("shadowed","true"),r.map(function(i){t.hasAttribute(i)&&(n.setAttribute(i,t.getAttribute(i)),t.removeAttribute(i))});var o=t.getAttributeNames().filter(function(i){return i.startsWith("data-")}).map(function(i){return i.split("-")[1]});o.map(function(i){n.setAttribute("data-"+i,t.getAttribute("data-"+i)),t.removeAttribute("data-"+i)}),[...t.children].map(function(i){n.appendChild(i.cloneNode(!0)),i.remove()}),t.append(n)}},"_ComponentWidget_");N(Ue);var Pe=d(function(t){customElements.define(t,class extends Ue{})},"RegisterWidget"),We=d(function(){var t=[...arguments];t.filter(function(e){return typeof e=="string"}).map(function(e){Pe(e)})},"RegisterWidgets");I(Pe),I(We),N(Pe),N(We)}h||R("com.qcobjects.api",[d(class extends m("InheritClass"){constructor({domain:e=X,basePath:n=x,body:r=null,stream:o=null,request:i=null}){super(...arguments),s.debug("Initializing BackendMicroservice...");let a=this;typeof this.body>"u"&&(this.body=null),typeof r<"u"&&(this.body=r),this.cors(),a.stream=o,o.on("data",f=>{var p=i.method.toLowerCase(),b={post:a.post};Object.hasOwnProperty.call(b,p)&&b[p].call(a,f)});var u=i.method.toLowerCase(),c={get:a.get,head:a.head,put:a.put,delete:a.delete,connect:a.connect,options:a.options,trace:a.trace,patch:a.patch};Object.hasOwnProperty.call(c,u)&&c[u].call(a)}cors(){if(this.route.cors){s.debug("Validating CORS...");let{allow_origins:n,allow_credentials:r,allow_methods:o,allow_headers:i}=this.route.cors;var e=this;if(typeof e.headers!="object"&&(e.headers={}),typeof e.route.responseHeaders!="object"&&(e.route.responseHeaders={}),typeof n<"u")if(s.debug("CORS: allow_origins available. Validating origins..."),n==="*"||typeof e.request.headers.origin>"u"||[...n].indexOf(e.request.headers.origin)!==-1)s.debug("CORS: Adding header Access-Control-Allow-Origin=*"),e.route.responseHeaders["Access-Control-Allow-Origin"]="*";else{s.debug("CORS: Origin is not allowed: "+e.request.headers.origin),s.debug("CORS: Forcing to finish the response..."),this.body={};try{this.done()}catch(a){s.debug(`It was not possible to finish the call to the microservice: ${a}`)}}else s.debug("CORS: no allow_origins available. Allowing all origins..."),s.debug("CORS: Adding header Access-Control-Allow-Origin=*"),e.route.responseHeaders["Access-Control-Allow-Origin"]="*";typeof r<"u"?(s.debug(`CORS: allow_credentials present. Allowing ${r}...`),e.route.responseHeaders["Access-Control-Allow-Credentials"]=r.toString()):(s.debug("CORS: No allow_credentials present. Allowing all credentials."),e.route.responseHeaders["Access-Control-Allow-Credentials"]="true"),typeof o<"u"?(s.debug(`CORS: allow_methods present. Allowing ${o}...`),e.route.responseHeaders["Access-Control-Allow-Methods"]=[...o].join(",")):(s.debug("CORS: No allow_methods present. Allowing only GET, OPTIONS and POST"),e.route.responseHeaders["Access-Control-Allow-Methods"]="GET, OPTIONS, POST"),typeof i<"u"?(s.debug(`CORS: allow_headers present. Allowing ${i}...`),e.route.responseHeaders["Access-Control-Allow-Headers"]=[...i].join(",")):(s.debug("CORS: No allow_headers present. Allowing all headers..."),e.route.responseHeaders["Access-Control-Allow-Headers"]="*")}else s.debug("No CORS validation available. You can specify cors in CONFIG.backend.routes[].cors")}head(e){this.done()}get(e){s.debug(`[BackendMicroservice.get] Data received: ${E(e)}`),this.done()}post(e){this.done()}put(e){this.done()}delete(e){this.done()}connect(e){this.done()}options(e){this.done()}trace(e){this.done()}patch(e){this.done()}finishWithBody(e){try{s.debug("[BackendMicroservice.finishWithBody] Ending the stream..."),s.debug(`[BackendMicroservice.finishWithBody] type of body is: ${typeof this.body}`),typeof this.body!="string"&&(this.body=E(this.body)),s.debug(`[BackendMicroservice.finishWithBody] 
 body: ${this.body} `),e.write(this.body),e.end(),s.debug("[BackendMicroservice.finishWithBody] Stream ended.")}catch(n){s.debug(`[BackendMicroservice.finishWithBody] Something went wrong ending the stream: ${n}`)}}done(){s.debug("[BackendMicroservice.done] Finalizing the response...");var e=this,n=e.stream;try{if(s.debug("[BackendMicroservice.done] Sending response headers..."),e.route.responseHeaders)s.debug(`[BackendMicroservice.done] Response headers present: ${Object.keys(e.route.responseHeaders)}`),n.respond(e.route.responseHeaders);else throw Error("[BackendMicroservice.done] No headers present.")}catch(r){s.debug(`[BackendMicroservice.done] Something went wrong sending response headers: ${r}`)}if(e.body!==null)try{s.debug("[BackendMicroservice.done] A body of message is present. Finalizing the response..."),e.finishWithBody.call(e,n)}catch(r){s.debug(`[BackendMicroservice.done] Something went wrong finalizing the response: ${r}`)}else s.debug("[BackendMicroservice.done] No body present. Ending stream..."),n.end()}},"BackendMicroservice")]),k("SourceJS",Object,{domain:X,basePath:x,body:q("script"),type:"text/javascript",containerTag:"body",url:"",data:{},async:!1,external:!1,set(t,e){this[t]=e},get(t){return this[t]},status:!1,done(){},fail(){},rebuild(){var t=this;try{document.getElementsByTagName(t.containerTag)[0].appendChild(function(e,n,r){return e.type=r.type,e.src=n,e.crossOrigin=Object.hasOwnProperty.call(r,"crossOrigin")?r.crossOrigin:"anonymous",e.async=r.async,e.onreadystatechange=function(){this.readyState==="complete"&&r.done.call(r)},e.onload=function(o){r.status=!0,r.done.call(r,o)},e.onerror=function(o){r.status=!1,r.fail.call(r,o)},r.body=e,e}.call(this,q("script"),this.external?this.url:this.basePath+this.url,t))}catch(e){t.status=!1,t.fail.call(t,e)}},Cast(t){return oe(this,t)},_new_(t){this.__new__(t),this.rebuild()}}),k("SourceCSS",Object,{domain:X,basePath:x,body:q("link"),url:"",data:{},async:!1,external:!1,set(t,e){this[t]=e},get(t){return this[t]},done(){},rebuild(){var t=this;h&&window.document.getElementsByTagName("head")[0].appendChild(function(e,n,r){return e.type="text/css",e.rel="stylesheet",e.href=n,e.crossOrigin="anonymous",e.onreadystatechange=function(){this.readyState==="complete"&&r.done.call(r)},e.onload=r.done,r.body=e,e}.call(this,q("link"),this.external?this.url:this.basePath+this.url,t))},Cast(t){return oe(this,t)},_new_(t){this.__new__(t),this.rebuild()}});var z=d(function(t){return isNaN(t)?new Number(0):new Number(t)},"__to_number");Array.prototype.unique=function(){return this.filter(function(t,e,n){return n.indexOf(t)===e})},Array.unique=function(t){return t.unique()},I(Array.unique),I(Array.prototype.unique),Array.prototype.table=function(){console.table(this)},Array.table=function(t){return t.table()},I(Array.table),I(Array.prototype.table),Array.prototype.sum=function(){return this.reduce(function(t,e){return z(t)+z(e)},0)},Array.sum=function(t){return t.sum()},I(Array.sum),I(Array.prototype.sum),Array.prototype.avg=function(){return this.length<1?0:this.reduce(function(t,e){return(z(t)+z(e))/2})},Array.avg=function(t){return t.avg()},I(Array.avg),I(Array.prototype.avg),Array.prototype.min=function(){return this.reduce(function(t,e){return z(t)<=z(e)?t:e},1/0)},Array.min=function(t){return t.min()},I(Array.min),I(Array.prototype.min),Array.prototype.max=function(){return this.reduce(function(t,e){return z(t)>=z(e)?t:e},0)},Array.max=function(t){return t.max()},I(Array.max),I(Array.prototype.max),Array.prototype.sortBy=function(t,e=!0){var n=e?function(r,o){return o[t]<r[t]?1:-1}:function(r,o){return o[t]>r[t]?1:-1};return this.sort(n)},Array.sortBy=function(t,e,n=!0){return t.sortBy(e,n)},I(Array.sortBy),I(Array.prototype.sortBy),Array.matrix=function(t,e=0){var n=d(function(r){return e},"x_func");return Array.from({length:t},n)},I(Array.matrix),Array.matrix2d=function(t,e=0){var n=d(function(o){return e},"y_func"),r=d(function(o){return Array.from({length:t},n)},"x_func");return Array.from({length:t},r)},I(Array.matrix2d),Array.matrix3d=function(t,e=0){var n=d(function(o){return Array.from({length:t},function(){return e})},"y_func"),r=d(function(o){return Array.from({length:t},n)},"x_func");return Array.from({length:t},r)},I(Array.matrix3d),l.range=function(t,e=0,n=1){return(e===0||typeof e>"u")&&(e=t,t=0),Array.from({length:(e-t)/n+1},function(r,o){return t+o*n})},I(l.range),String.prototype.list=function(){var t=this;return l.range(0,t.length-1).map(function(e){return t[e]})},I(String.prototype.list),l.getDocumentLayout=function(){var t=d((r,o)=>r>o?"landscape":null,"h"),e=d((r,o)=>o>r?"portrait":null,"v"),n=d((r,o)=>r===o?"square":null,"square");return[t(document.documentElement.clientWidth,document.documentElement.clientHeight),e(document.documentElement.clientWidth,document.documentElement.clientHeight),n(document.documentElement.clientWidth,document.documentElement.clientHeight)].filter(r=>r!==null).pop()},k("ArrayList",Array,[]),m("ArrayList").matrix=Array.matrix,m("ArrayList").matrix2d=Array.matrix2d,m("ArrayList").matrix3d=Array.matrix3d,I(m("ArrayList").matrix),I(m("ArrayList").matrix2d),I(m("ArrayList").matrix3d),k("ArrayCollection",Object,{source:S(m("ArrayList"),[]),changed(t,e){s.debug("VALUE CHANGED"),s.debug(t),s.debug(e)},push(t){var e=this;s.debug("VALUE ADDED"),s.debug(t),e.source.push(t)},pop(t){var e=this;s.debug("VALUE POPPED"),s.debug(t),e.source.pop(t)},_new_(t){var e=this,n=0;e.source=S(m("ArrayList"),t);for(var r in e.source)isNaN(r)||(s.debug("binding "+r.toString()),function(o){Object.defineProperty(e,o,{set(i){s.debug("setting "+o+"="+i),e.source[o]=i,e.changed(o,i)},get(){return e.source[o]}})}(r),n++);e.source.length=n,Object.defineProperty(e,"length",{get(){return e.source.length}})}}),R("com.qcobjects.effects.base",[d(class extends m("InheritClass"){duration=1e3;constructor(){super(...arguments)}animate({timing:e,draw:n,duration:r}){let o=performance.now();requestAnimationFrame(d(function i(a){let u=(a-o)/r;u>1&&(u=1);let c=e(u);n(Math.round(c*100)),u<1?requestAnimationFrame(i):typeof this<"u"&&this!==null&&Object.hasOwnProperty.call(this,"done")&&(typeof this.done).toLowerCase()==="function"&&this.done.call(this)},"animate"))}},"Effect")]),R("com.qcobjects.effects.transitions.base",[d(class extends m("Effect"){duration=385;defaultParams={alphaFrom:0,alphaTo:1,angleFrom:180,angleTo:0,radiusFrom:0,radiusTo:30,scaleFrom:0,scaleTo:1};fitToHeight=!1;fitToWidth=!1;effects=[];constructor(){super(...arguments),s.info("DECLARING TransitionEffect  "),this.component.defaultParams=this.defaultParams}apply({alphaFrom:e,alphaTo:n,angleFrom:r,angleTo:o,radiusFrom:i,radiusTo:a,scaleFrom:u,scaleTo:c}){var f=this;s.info("EXECUTING TransitionEffect  ");var p=f.component.shadowed?f.component.shadowRoot.host:f.component.body;f.fitToHeight&&(p.height=typeof p.offsetParent=="object"&&p.offsetParent!==null?p.offsetParent.scrollHeight:p.getBoundingClientRect().height),f.fitToWidth&&(p.width=typeof p.offsetParent=="object"&&p.offsetParent!==null?p.offsetParent.scrollWidth:p.getBoundingClientRect().width),p.style.display="block",f.effects.map(function(b,y){var w=m(b),T=new w,v=T.apply,M=[p].concat(Object.values({alphaFrom:e,alphaTo:n,angleFrom:r,angleTo:o,radiusFrom:i,radiusTo:a,scaleFrom:u,scaleTo:c}));v.apply(f,M)})}},"TransitionEffect")]),R("com.qcobjects.timing",[d(class extends m("InheritClass"){constructor(){super(...arguments)}duration=1e3;alive=!0;thread({timing:e,intervalInterceptor:n,duration:r}){var o=this;let i=performance.now();requestAnimationFrame(d(function a(u){let c=u-i,f=c/r;f>1&&(f=1);let p=e(f,c);n(Math.round(p*100)),(f<1||r===-1)&&o.alive&&requestAnimationFrame(a)},"thread"))}},"Timer")]),R("com.qcobjects.tools.essentials",[d(class extends m("InheritClass"){_toggle=!1;_inverse=!0;_positive=null;_negative=null;_dispatched=null;_args={};constructor(){super(...arguments),this._new_(...arguments)}changeToggle(){this._toggle=!this._toggle}_new_({positive:e,negative:n,args:r}){this._positive=e,this._negative=n,this._args=r}fire(){var e=this,n=new Promise(function(r,o){typeof e._positive=="function"&&typeof e._negative=="function"?(e._inverse?e._dispatched=e._toggle?e._negative.bind(e):e._positive.bind(e):e._dispatched=e._toggle?e._positive.bind(e):e._negative.bind(e),e._dispatched.call(e,e._args),r.call(n,e)):(s.debug("Toggle functions are not declared"),o.call(n,e))}).then(function(r){r.changeToggle()}).catch(function(r){s.debug(r.toString())});return n}},"Toggle")]),function(t){let e=d(function(a,u,c){var f=this;if(typeof a>"u"||a===null)throw Error(`mapper.${u}.${c} does not have a component instance or it is null.`);let p=t.global.get(c),b=a.get(c),y=a.data[c],w=typeof y<"u"?y:typeof b<"u"?b:p,T="";return typeof w<"u"&&typeof w.map<"u"?T=w.map(function(v){let M=[...Object.keys(v)].map(C=>` data-${C}="${typeof v[C]<"u"&&v[C]!==null?v[C].toString():""}"`).join("");return`<quick-component name="${u}" ${M} ></quick-component>`}).join(""):s.debug(`${u}.${c} does not have a map property`),T},"mapper");j.setProcessor(e);let n=d(function(a,u,c){var f=`
        /* CSS Document for Mobile Imports */
        @import url("${c}") (orientation:portrait);
        @import url("${c}") (max-width:460px);
        @import url("${c}") (aspect-ratio: 9/16);
        @import url("${c}") (aspect-ratio: 10/16);
        @import url("${c}") (aspect-ratio: 5/8);
        @import url("${c}") (aspect-ratio: 3/4);
        @import url("${c}") (aspect-ratio: 2/3);
        `,p=`
        @import url("${c}") (orientation:landscape) and (min-width:460px);
        @import url("${c}") (aspect-ratio: 16/9) and (min-width:460px);
        @import url("${c}") (aspect-ratio: 16/10) and (min-width:460px);
        @import url("${c}") (aspect-ratio: 8/5) and (min-width:460px);
        @import url("${c}") (aspect-ratio: 4/3) and (min-width:460px);
        @import url("${c}") (aspect-ratio: 3/2) and (min-width:460px);
        `,b={landscape:p,portrait:f};return Object.hasOwnProperty.call(b,u)?b[u]:""},"layout");j.setProcessor(n);let r=d(function(){let a=[...arguments].slice(1).map(function(c){return{[c.split("=")[0]]:c.split("=")[1]}}).reduce(function(c,f){return Object.assign(c,f)});return`<component ${[...Object.keys(a)].map(function(c){return`${c}=${a[c]}`}).join(" ")}></component>`},"component");j.setProcessor(r);let o=d(function(){let a=[...arguments].slice(1).map(function(c){return{[c.split("=")[0]]:c.split("=")[1]}}).reduce(function(c,f){return Object.assign(c,f)});return`<quick-component ${[...Object.keys(a)].map(function(c){return`${c}=${a[c]}`}).join(" ")}></quick-component>`},"quick_component");j.setProcessor(o);let i=d(function(a,u,c){return t.range(u).map(function(f){return c.replace("{{index}}",f.toString())}).join("")},"repeat");j.setProcessor(i)}(l),se(function(){l.CONFIG.get("useSDK")||l.__start__()}),N(N),N(Te),N(R),N(k),N(S),N(st),N(se),N(ut),N(h),N(J),function(t){R("com.qcobjects",[d(class ye extends m("InheritClass"){_GLOBAL={};__definition={};__classType="GlobalSettings";constructor(){super(...arguments),this.set=ye.set.bind(this),this.get=ye.get.bind(this),this.__start__=ye.__start__.bind(this)}static set(n,r){this._GLOBAL[n]=r}static get(n,r){var o;return typeof this._GLOBAL[n]<"u"?o=this._GLOBAL[n]:typeof r<"u"&&(o=r),o}static __start__(){var n=d(function(){var o;return h&&(o=new Promise(function(i,a){"serviceWorker"in navigator&&typeof t.CONFIG.get("serviceWorkerURI")<"u"&&(t.CONFIG.set("serviceWorkerScope",t.CONFIG.get("serviceWorkerScope")?t.CONFIG.get("serviceWorkerScope"):"/"),navigator.serviceWorker.register(t.CONFIG.get("serviceWorkerURI"),{scope:t.CONFIG.get("serviceWorkerScope")}).then(function(u){s.debug("Service Worker Registered"),i.call(o,u)},function(u){s.debug("Error registering Service Worker"),a.call(o,u)}),navigator.serviceWorker.ready.then(function(u){s.debug("Service Worker Ready"),i.call(o,u)},function(u){s.debug("Error loading Service Worker"),a.call(o,u)}))})),o},"__load__serviceWorker"),r=d(function(){var o;return h?(s.debug("Initializing the service worker"),o=n.call(t).finally(function(){s.debug("Starting to building components");try{t.componentsStack=document.buildComponents.call(document)}catch(i){throw Error(`Something went wrong trying to start components tree: ${i.message}`)}}).catch(function(i){s.debug(`error loading the service worker ${i}`)})):o=Promise.resolve(),o},"_buildComponents");s.debug("Starting to load the config settings..."),t.CONFIG.get("useConfigService",!1)?(s.debug("Loading settings using local configuration file..."),t.global.configService=S(m("ConfigService")),t.global.configService.configLoaded=r,Ee(t.global.configService)):(s.debug("Starting to load the components..."),r.call(this))}},"GlobalSettings")]),N(m("GlobalSettings")),O=S(m("GlobalSettings")),t=K(O,t),Object.defineProperty(t,"PackagesNameList",{set(e){s.debug("PackagesNameList is readonly")},get(){var e=d(function(n){var r=[];for(var o in n)typeof n[o]<"u"&&typeof n[o]!="function"&&Object.hasOwnProperty.call(n[o],"length")&&n[o].length>0&&(r.push(o),r=r.concat(e(n[o])));return r},"_get_packages_names");return e(L)}}),Object.defineProperty(t,"PackagesList",{set(e){s.debug("PackagesList is readonly")},get(){return t.PackagesNameList.map(function(e){let n=R(e),r;return n&&(r={packageName:e,classesList:n.filter(function(o){return V(o)})}),r}).filter(function(e){return typeof e<"u"})}}),Object.defineProperty(t,"ClassesList",{set(e){s.debug("ClassesList is readonly")},get(){var e=[];return t.PackagesList.map(function(n){return e=e.concat(n.classesList.map(function(r){return{packageName:n.packageName,className:n.packageName+"."+r.__definition.__classType,classFactory:r}})),n}),e}}),Object.defineProperty(t,"ClassesNameList",{set(e){s.debug("ClassesNameList is readonly")},get(){return t.ClassesList.map(function(e){return e.className})}}),h&&(k("GLOBAL",$.global),N(m("GLOBAL"))),N(O),t.CONFIG.get("useSDK")&&function(e){var n=e.CONFIG.get("remoteImportsPath"),r=!e.CONFIG.get("useLocalSDK");e.CONFIG.set("remoteImportsPath",e.CONFIG.get("remoteSDKPath"));var o=!1,i="QCObjects-SDK";if(h)o=!0;else{var a=he("qcobjects-sdk");a!==null?(i="qcobjects-sdk",o=!0):(i="node_modules/qcobjects-sdk/QCObjects-SDK",o=!0)}if(o)if(s.info("Importing SDK... "+i),ve&&typeof Me<"u"){let u=Ye()}else Te(i,function(){r?s.debug("QCObjects-SDK.js loaded from remote location"):s.debug("QCObjects-SDK.js loaded from local"),e.CONFIG.set("remoteImportsPath",n)},r);else s.debug("SDK has not been imported as it is not available at the moment")}(t)}(l),h&&fe(function(){se(function(){(function(t){let e=0,n=!1,r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),o=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth);function i(a){var u=Math.round(t.scrollY*100/r),c=Math.round(t.scrollX*100/o),f=new CustomEvent("scrollpercent",{detail:{percentX:c,percentY:u}});a.target.dispatchEvent(f);var p="defaultscroll",b=[0,5,10,25,50,75,90,95,100];b.filter(function(y){return y===u}).map(function(y){p="percentY"+u.toString();var w=new CustomEvent(p,{detail:{percentX:c,percentY:u}});a.target.dispatchEvent(w)})}d(i,"scrollDispatcher"),document.addEventListener("scroll",function(a){n||(requestAnimationFrame(function(){i(a),n=!1}),n=!0)})})(l)})},null),h||(typeof l.global<"u"&&Object.hasOwnProperty.call(l.global,"_fireAsyncLoad")&&l.global._fireAsyncLoad.call(this),typeof l.global<"u"&&Object.hasOwnProperty.call(l.global,"onload")&&l.global.onload.call(this)),function(t){var e=d(function(){Object.freeze(Object.prototype),Object.freeze(Object)},"__freeze__");t&&l.CONFIG.get("secureObjects",!1)?se(function(){e()}):l.CONFIG.get("secureObjects",!1)&&e()}(h)}},"__qcobjects__").call(null,typeof te=="object"&&typeof te.exports=="object"?te.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}:typeof global=="object"?global:typeof window=="object"?window:{})});var Ke=de((Jt,Be)=>{var ht=Ze();Be.exports=ht});var mt=de(Qe=>{Object.defineProperty(Qe,"__esModule",{value:!0});var ne=Ke();(0,ne.Package)("com.qcobjects.services.github",[d(class extends ne.JSONService{constructor(){super(...arguments),this.name="myservice",this.external=!0,this.cached=!1,this.method="GET",this.headers={"Content-Type":"application/json"},this.url="https://api.github.com/orgs/QuickCorp/repos",this.withCredentials=!1}done({request:l,service:O}){let U=JSON.parse(O.template).reverse().map(function(h){return{id:h.id,description:h.description,title:h.name,url:h.html_url,image:`https://via.placeholder.com/170/000000/FFFFFF?text=${encodeURI(h.name)}`}});return O.template=JSON.stringify({result:U}),super.done({request:l,service:O})}},"GitHubService"),d(class extends ne.JSONService{constructor(){super(...arguments),this.name="myservice",this.external=!0,this.cached=!1,this.method="GET",this.headers={"Content-Type":"application/json"},this.url="https://api.github.com/search/repositories?q=qcobjects",this.withCredentials=!1}done({request:l,service:O}){ne.logger.debug(l);let U=JSON.parse(O.template).items.map(function(h){return{id:h.id,description:h.description,title:h.name,url:h.html_url,image:`https://via.placeholder.com/170/000000/FFFFFF?text=${encodeURI(h.name)}`}});return O.template=JSON.stringify({result:U}),super.done({request:l,service:O})}},"GitHubTagService"),d(class extends ne.Service{constructor(){super(...arguments),this.name="qcobjects_version_service",this.external=!0,this.cached=!1,this.method="GET",this.headers={"Content-Type":"application/json"},this.url="https://api.github.com/repos/QuickCorp/QCObjects/tags",this.withCredentials=!1}done({service:l}){let O=JSON.parse(l.template)[0];l.template={version:O.name}}},"QCObjectsVersionService"),d(class extends ne.Service{constructor(){super(...arguments),this.name="qcobjects_stars_forks_service",this.external=!0,this.cached=!1,this.method="GET",this.headers={"Content-Type":"application/json"},this.url="https://api.github.com/repos/QuickCorp/QCObjects",this.withCredentials=!1}done({service:l}){let O=JSON.parse(l.template);l.template={forks:O.forks_count,stars:O.stargazers_count,watchers:O.watchers_count,size:Math.round(O.size/1e3)}}},"QCObjectsStarsForksService")])});return mt();})();
//# sourceMappingURL=com.qcobjects.services.github.js.map
